<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>解构赋值destructing,ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值,
        内容太多</title>
    <script>
        //模式匹配，
        function run1() {
            let [a, b, c] = [1, 2, 3];
            console.log(a);
        }
        function run2() {
            let [a, b, c] = [1, , 3];
            console.log(b);
        }
        //支持嵌套
        function run3(){
            let [a,[b,c],d]=[1,[2,3],4];
            console.log(c);
        }
        // 对象的解构
        function run4(){
            let {a,b}={a:3,b:4};
            console.log(a);
        }
        //对象也可以潜套的
        function run5(){
            var obj={
                a:[1,3],
                b:4,
                d:{
                    da:11,
                    db:12
                }
            };
            let {p:{a:[c,e],d}}=obj;
            console.log(p);
            console.log(c+'   '+e);
            console.log(d);
        }
        //对象的默认值,数组也是
        //默认值生效的条件是，对象的属性值严格等于undefined。
        //原因是因为es 6 内部使用全等=== 判断的。
        function run6(){
            var {x=3}={x:undefined};
            console.log(x);
            var {y=3}={y:null};
            console.log(y);
        }

        //字符串的解构赋值
        function run7() {
            var [a, b, c, d, e] = 'abcdee';
            console.log(d);
        }

        //数值和布尔值解构赋值,右边先转成对象，接下来就看对象的了
        function run8(){
            let {toString:a}=123;
            console.log(a===Number.prototype.toString);
            console.log(a);
            let {toString:b}=true;
            console.log(b===Boolean.prototype.toString);
            var d=(b===Boolean.prototype.toString||1232);
            console.log(b);
            console.log(d);
        }
        run8();

        //函数参数的解构赋值 § ⇧
        function run9([a,b,c]){
            console.log(a+'  '+b+'  '+c);
        }

        run9([1,2,3]);
        //undefined,null 无法转成对象，也无法解构。

        //交换变量
        function run10() {
            var x=1,y=2;
             [y, x] = [x, y];
            console.log(x+' '+y);
        }
        run10();
    </script>
</head>
<body>

</body>
</html>